<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J.A.R.V.I.S. Productivity Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .input-ghost {
            background: transparent;
            border-bottom: 1px solid #e2e8f0;
            transition: all 0.2s;
        }
        .input-ghost:focus {
            outline: none;
            border-bottom: 2px solid #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }

        /* Checkbox styling */
        input[type="checkbox"] {
            accent-color: #3b82f6;
            width: 1.2rem;
            height: 1.2rem;
            cursor: pointer;
        }

        /* Print styles */
        @media print {
            .no-print { display: none !important; }
            body { background: white; }
            .glass-panel { box-shadow: none; border: 1px solid #ccc; }
        }
    </style>
</head>
<body class="text-slate-800 h-screen flex flex-col md:flex-row overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-full md:w-64 bg-slate-900 text-white flex-shrink-0 flex flex-col no-print z-50">
        <div class="p-6 flex items-center gap-3 font-bold text-xl tracking-wider">
            <i class="fas fa-microchip text-blue-400"></i> J.A.R.V.I.S.
        </div>
        <nav class="flex-1 overflow-y-auto py-4">
            <button onclick="switchTab('daily')" class="nav-btn w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-blue-500 bg-slate-800" id="btn-daily">
                <i class="fas fa-calendar-day w-6"></i> Tagesplaner
            </button>
            <button onclick="switchTab('weekly')" class="nav-btn w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent" id="btn-weekly">
                <i class="fas fa-calendar-week w-6"></i> Wochen√ºbersicht
            </button>
            <button onclick="switchTab('dopamine')" class="nav-btn w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent" id="btn-dopamine">
                <i class="fas fa-brain w-6"></i> Dopamin Men√º
            </button>
            <button onclick="switchTab('boring')" class="nav-btn w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent" id="btn-boring">
                <i class="fas fa-poop w-6"></i> Boring Tasks
            </button>
            <button onclick="switchTab('goals')" class="nav-btn w-full text-left px-6 py-3 hover:bg-slate-800 transition-colors border-l-4 border-transparent" id="btn-goals">
                <i class="fas fa-mountain w-6"></i> Goal Setting
            </button>
        </nav>
        <div class="p-4 border-t border-slate-700">
            <button onclick="clearAllData()" class="text-xs text-slate-400 hover:text-red-400 transition">
                <i class="fas fa-trash"></i> System zur√ºcksetzen
            </button>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto p-4 md:p-8 relative">
        
        <!-- Header -->
        <header class="flex justify-between items-center mb-8">
            <div>
                <h1 class="text-3xl font-bold text-slate-800" id="page-title">Tagesplaner</h1>
                <p class="text-slate-500 text-sm">Bereit f√ºr die Protokolle, Sir.</p>
            </div>
            <div class="flex gap-2">
                <button onclick="window.print()" class="px-4 py-2 bg-white border border-slate-300 rounded shadow-sm hover:bg-slate-50 text-sm font-medium no-print">
                    <i class="fas fa-print mr-2"></i> Drucken
                </button>
            </div>
        </header>

        <!-- CONTENT: DAILY PLANNER -->
        <div id="view-daily" class="view-section space-y-6">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                
                <!-- Left Column: Tasks -->
                <div class="lg:col-span-2 space-y-6">
                    
                    <!-- Essential Tasks -->
                    <div class="glass-panel p-6 rounded-xl">
                        <h2 class="text-lg font-bold text-blue-600 mb-4 uppercase tracking-wide"><i class="fas fa-star mr-2"></i> Essenzielle Aufgaben</h2>
                        <div class="space-y-3">
                            <!-- JS generates these lines -->
                            <div class="flex gap-3 items-center">
                                <input type="checkbox" id="daily-top-1-check" onchange="saveData()">
                                <input type="text" id="daily-top-1-text" class="input-ghost w-full p-2" placeholder="Priorit√§t #1" oninput="saveData()">
                            </div>
                            <div class="flex gap-3 items-center">
                                <input type="checkbox" id="daily-top-2-check" onchange="saveData()">
                                <input type="text" id="daily-top-2-text" class="input-ghost w-full p-2" placeholder="Priorit√§t #2" oninput="saveData()">
                            </div>
                            <div class="flex gap-3 items-center">
                                <input type="checkbox" id="daily-top-3-check" onchange="saveData()">
                                <input type="text" id="daily-top-3-text" class="input-ghost w-full p-2" placeholder="Priorit√§t #3" oninput="saveData()">
                            </div>
                        </div>
                    </div>

                    <!-- Secondary Tasks -->
                    <div class="glass-panel p-6 rounded-xl">
                        <h2 class="text-lg font-bold text-purple-600 mb-4 uppercase tracking-wide"><i class="fas fa-check mr-2"></i> Sekund√§re Aufgaben</h2>
                        <div class="space-y-2" id="secondary-tasks-container">
                            <!-- 5 slots -->
                            <div class="flex gap-3 items-center"><input type="checkbox" class="save-state"><input type="text" class="input-ghost w-full p-2 save-content" placeholder="Aufgabe..."></div>
                            <div class="flex gap-3 items-center"><input type="checkbox" class="save-state"><input type="text" class="input-ghost w-full p-2 save-content" placeholder="Aufgabe..."></div>
                            <div class="flex gap-3 items-center"><input type="checkbox" class="save-state"><input type="text" class="input-ghost w-full p-2 save-content" placeholder="Aufgabe..."></div>
                            <div class="flex gap-3 items-center"><input type="checkbox" class="save-state"><input type="text" class="input-ghost w-full p-2 save-content" placeholder="Aufgabe..."></div>
                            <div class="flex gap-3 items-center"><input type="checkbox" class="save-state"><input type="text" class="input-ghost w-full p-2 save-content" placeholder="Aufgabe..."></div>
                        </div>
                    </div>

                    <!-- Focus Frogs (Pomodoro) -->
                    <div class="glass-panel p-6 rounded-xl bg-green-50 border-green-200">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-bold text-green-700 uppercase tracking-wide"><i class="fas fa-frog mr-2"></i> Focus Frogs</h2>
                            <span class="text-xs text-green-600 bg-green-200 px-2 py-1 rounded">25min Sprint + 5min Pause</span>
                        </div>
                        <div class="flex justify-around">
                            <label class="cursor-pointer text-center">
                                <input type="checkbox" class="save-state hidden peer">
                                <div class="w-12 h-12 rounded-full border-2 border-green-400 peer-checked:bg-green-500 flex items-center justify-center text-green-300 peer-checked:text-white transition">
                                    <i class="fas fa-frog text-xl"></i>
                                </div>
                                <span class="text-xs mt-1 block">Sprint 1</span>
                            </label>
                            <label class="cursor-pointer text-center">
                                <input type="checkbox" class="save-state hidden peer">
                                <div class="w-12 h-12 rounded-full border-2 border-green-400 peer-checked:bg-green-500 flex items-center justify-center text-green-300 peer-checked:text-white transition">
                                    <i class="fas fa-frog text-xl"></i>
                                </div>
                                <span class="text-xs mt-1 block">Sprint 2</span>
                            </label>
                            <label class="cursor-pointer text-center">
                                <input type="checkbox" class="save-state hidden peer">
                                <div class="w-12 h-12 rounded-full border-2 border-green-400 peer-checked:bg-green-500 flex items-center justify-center text-green-300 peer-checked:text-white transition">
                                    <i class="fas fa-frog text-xl"></i>
                                </div>
                                <span class="text-xs mt-1 block">Sprint 3</span>
                            </label>
                            <label class="cursor-pointer text-center">
                                <input type="checkbox" class="save-state hidden peer">
                                <div class="w-12 h-12 rounded-full border-2 border-green-400 peer-checked:bg-green-500 flex items-center justify-center text-green-300 peer-checked:text-white transition">
                                    <i class="fas fa-frog text-xl"></i>
                                </div>
                                <span class="text-xs mt-1 block">Sprint 4</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Time & Water -->
                <div class="space-y-6">
                    <!-- Schedule -->
                    <div class="glass-panel p-6 rounded-xl">
                        <h2 class="text-lg font-bold text-slate-600 mb-4 uppercase tracking-wide">Time Blocking</h2>
                        <div class="space-y-2 text-sm overflow-y-auto max-h-[500px]" id="schedule-container">
                            <!-- Generated by JS -->
                        </div>
                    </div>

                    <!-- Water Tracker -->
                    <div class="glass-panel p-6 rounded-xl bg-blue-50 border-blue-200">
                        <h2 class="text-lg font-bold text-blue-700 mb-4 uppercase tracking-wide"><i class="fas fa-tint mr-2"></i> Hydration</h2>
                        <div class="grid grid-cols-4 gap-2">
                            <label class="cursor-pointer"><input type="checkbox" class="save-state hidden peer"><div class="aspect-square rounded border-2 border-blue-300 peer-checked:bg-blue-500 transition"></div></label>
                            <label class="cursor-pointer"><input type="checkbox" class="save-state hidden peer"><div class="aspect-square rounded border-2 border-blue-300 peer-checked:bg-blue-500 transition"></div></label>
                            <label class="cursor-pointer"><input type="checkbox" class="save-state hidden peer"><div class="aspect-square rounded border-2 border-blue-300 peer-checked:bg-blue-500 transition"></div></label>
                            <label class="cursor-pointer"><input type="checkbox" class="save-state hidden peer"><div class="aspect-square rounded border-2 border-blue-300 peer-checked:bg-blue-500 transition"></div></label>
                            <label class="cursor-pointer"><input type="checkbox" class="save-state hidden peer"><div class="aspect-square rounded border-2 border-blue-300 peer-checked:bg-blue-500 transition"></div></label>
                            <label class="cursor-pointer"><input type="checkbox" class="save-state hidden peer"><div class="aspect-square rounded border-2 border-blue-300 peer-checked:bg-blue-500 transition"></div></label>
                            <label class="cursor-pointer"><input type="checkbox" class="save-state hidden peer"><div class="aspect-square rounded border-2 border-blue-300 peer-checked:bg-blue-500 transition"></div></label>
                            <label class="cursor-pointer"><input type="checkbox" class="save-state hidden peer"><div class="aspect-square rounded border-2 border-blue-300 peer-checked:bg-blue-500 transition"></div></label>
                        </div>
                    </div>
                    
                    <!-- Notes -->
                    <div class="glass-panel p-6 rounded-xl">
                        <h2 class="text-lg font-bold text-slate-600 mb-2 uppercase tracking-wide">Don't Forget</h2>
                        <textarea class="w-full h-32 bg-transparent border border-slate-300 rounded p-2 text-sm save-content" placeholder="Notizen f√ºr sp√§ter..."></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENT: WEEKLY PLANNER -->
        <div id="view-weekly" class="view-section hidden space-y-6">
            <div class="glass-panel p-6 rounded-xl">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div>
                        <h3 class="font-bold text-blue-600">Priorit√§t #1</h3>
                        <input type="text" class="input-ghost w-full p-2 save-content">
                    </div>
                    <div>
                        <h3 class="font-bold text-blue-600">Priorit√§t #2</h3>
                        <input type="text" class="input-ghost w-full p-2 save-content">
                    </div>
                    <div>
                        <h3 class="font-bold text-blue-600">Priorit√§t #3</h3>
                        <input type="text" class="input-ghost w-full p-2 save-content">
                    </div>
                </div>
                
                <h3 class="font-bold text-slate-700 mb-4 border-b pb-2">Wochen√ºbersicht</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <!-- Days Generated by Loop manually for clarity -->
                    <div class="border rounded p-3 bg-white">
                        <span class="font-bold block mb-2 text-slate-400">Montag</span>
                        <textarea class="w-full h-24 bg-slate-50 border-none resize-none text-sm p-1 save-content"></textarea>
                    </div>
                    <div class="border rounded p-3 bg-white">
                        <span class="font-bold block mb-2 text-slate-400">Dienstag</span>
                        <textarea class="w-full h-24 bg-slate-50 border-none resize-none text-sm p-1 save-content"></textarea>
                    </div>
                    <div class="border rounded p-3 bg-white">
                        <span class="font-bold block mb-2 text-slate-400">Mittwoch</span>
                        <textarea class="w-full h-24 bg-slate-50 border-none resize-none text-sm p-1 save-content"></textarea>
                    </div>
                    <div class="border rounded p-3 bg-white">
                        <span class="font-bold block mb-2 text-slate-400">Donnerstag</span>
                        <textarea class="w-full h-24 bg-slate-50 border-none resize-none text-sm p-1 save-content"></textarea>
                    </div>
                    <div class="border rounded p-3 bg-white">
                        <span class="font-bold block mb-2 text-slate-400">Freitag</span>
                        <textarea class="w-full h-24 bg-slate-50 border-none resize-none text-sm p-1 save-content"></textarea>
                    </div>
                    <div class="border rounded p-3 bg-white">
                        <span class="font-bold block mb-2 text-slate-400">Samstag</span>
                        <textarea class="w-full h-24 bg-slate-50 border-none resize-none text-sm p-1 save-content"></textarea>
                    </div>
                    <div class="border rounded p-3 bg-white">
                        <span class="font-bold block mb-2 text-slate-400">Sonntag</span>
                        <textarea class="w-full h-24 bg-slate-50 border-none resize-none text-sm p-1 save-content"></textarea>
                    </div>
                    <div class="border rounded p-3 bg-yellow-50">
                        <span class="font-bold block mb-2 text-yellow-600">N√§chste Woche</span>
                        <textarea class="w-full h-24 bg-transparent border-none resize-none text-sm p-1 save-content"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENT: DOPAMINE MENU -->
        <div id="view-dopamine" class="view-section hidden space-y-6">
            <div class="bg-indigo-600 text-white p-6 rounded-xl mb-6">
                <h2 class="text-xl font-bold">Das Dopamin Men√º</h2>
                <p class="text-indigo-200 text-sm">Eine Liste gesunder Gehirn-Booster, damit du nicht zum Doom-Scrolling greifst.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Entrees -->
                <div class="glass-panel p-6 rounded-xl border-l-4 border-red-400">
                    <h3 class="font-bold text-lg mb-2">üçΩÔ∏è Entr√©es (Hauptgang)</h3>
                    <p class="text-xs text-slate-500 mb-3">Dinge, die dich lebendig f√ºhlen lassen (Hobbys, Sport, Leidenschaften).</p>
                    <textarea class="w-full h-32 p-3 bg-slate-50 rounded border border-slate-200 save-content" placeholder="- Gitarre spielen&#10;- Laufen gehen..."></textarea>
                </div>

                <!-- Appetizers -->
                <div class="glass-panel p-6 rounded-xl border-l-4 border-orange-400">
                    <h3 class="font-bold text-lg mb-2">ü•ó Appetizers (Vorspeise)</h3>
                    <p class="text-xs text-slate-500 mb-3">Schnelle Kicks (5-10 Minuten) f√ºr zwischendurch.</p>
                    <textarea class="w-full h-32 p-3 bg-slate-50 rounded border border-slate-200 save-content" placeholder="- Ein Glas Wasser&#10;- 1 Song tanzen..."></textarea>
                </div>

                <!-- Sides -->
                <div class="glass-panel p-6 rounded-xl border-l-4 border-green-400">
                    <h3 class="font-bold text-lg mb-2">üçü Sides (Beilagen)</h3>
                    <p class="text-xs text-slate-500 mb-3">Dinge, die man mit langweiligen Aufgaben kombinieren kann.</p>
                    <textarea class="w-full h-32 p-3 bg-slate-50 rounded border border-slate-200 save-content" placeholder="- Podcast h√∂ren&#10;- Fidget Toy nutzen..."></textarea>
                </div>

                <!-- Desserts -->
                <div class="glass-panel p-6 rounded-xl border-l-4 border-purple-400">
                    <h3 class="font-bold text-lg mb-2">üç∞ Desserts (Nachtisch)</h3>
                    <p class="text-xs text-slate-500 mb-3">Spa√ü in Ma√üen (Vorsicht: Suchtgefahr!).</p>
                    <textarea class="w-full h-32 p-3 bg-slate-50 rounded border border-slate-200 save-content" placeholder="- Social Media&#10;- Netflix Binge..."></textarea>
                </div>
            </div>
        </div>

        <!-- CONTENT: BORING STUFF -->
        <div id="view-boring" class="view-section hidden space-y-6">
            <div class="glass-panel p-6 rounded-xl">
                <div class="flex items-center gap-4 mb-6">
                    <div class="bg-slate-200 p-3 rounded-full"><i class="fas fa-poop text-2xl text-slate-600"></i></div>
                    <div>
                        <h2 class="text-xl font-bold">Boring Bullsh*t</h2>
                        <p class="text-slate-500 text-sm">Langweilige Aufgaben erfordern Belohnungen.</p>
                    </div>
                </div>

                <div class="space-y-4">
                    <!-- Repeater for boring tasks -->
                    <div class="flex flex-col md:flex-row gap-4 items-center bg-white p-4 rounded border shadow-sm">
                        <div class="flex-1 w-full">
                            <label class="text-xs font-bold text-slate-400 uppercase">Langweilige Aufgabe</label>
                            <input type="text" class="w-full border-b border-slate-300 focus:border-slate-800 outline-none py-1 save-content" placeholder="Steuererkl√§rung...">
                        </div>
                        <div class="hidden md:block text-slate-300"><i class="fas fa-arrow-right"></i></div>
                        <div class="flex-1 w-full">
                            <label class="text-xs font-bold text-green-500 uppercase">Belohnung danach</label>
                            <input type="text" class="w-full border-b border-green-200 focus:border-green-600 outline-none py-1 save-content" placeholder="Ein St√ºck Schokolade...">
                        </div>
                        <div>
                            <input type="checkbox" class="w-6 h-6 accent-green-500 save-state">
                        </div>
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-4 items-center bg-white p-4 rounded border shadow-sm">
                        <div class="flex-1 w-full">
                            <input type="text" class="w-full border-b border-slate-300 focus:border-slate-800 outline-none py-1 save-content" placeholder="E-Mails sortieren...">
                        </div>
                        <div class="hidden md:block text-slate-300"><i class="fas fa-arrow-right"></i></div>
                        <div class="flex-1 w-full">
                            <input type="text" class="w-full border-b border-green-200 focus:border-green-600 outline-none py-1 save-content" placeholder="5 min YouTube...">
                        </div>
                        <div>
                            <input type="checkbox" class="w-6 h-6 accent-green-500 save-state">
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row gap-4 items-center bg-white p-4 rounded border shadow-sm">
                        <div class="flex-1 w-full">
                            <input type="text" class="w-full border-b border-slate-300 focus:border-slate-800 outline-none py-1 save-content" placeholder="Abwasch...">
                        </div>
                        <div class="hidden md:block text-slate-300"><i class="fas fa-arrow-right"></i></div>
                        <div class="flex-1 w-full">
                            <input type="text" class="w-full border-b border-green-200 focus:border-green-600 outline-none py-1 save-content" placeholder="Kaffee Pause...">
                        </div>
                        <div>
                            <input type="checkbox" class="w-6 h-6 accent-green-500 save-state">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTENT: GOALS -->
        <div id="view-goals" class="view-section hidden space-y-6">
            <div class="glass-panel p-6 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50">
                <h2 class="text-xl font-bold mb-4 text-indigo-900">Berg der Ziele 2025</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Goal 1 -->
                    <div class="bg-white p-4 rounded shadow-sm">
                        <label class="block text-xs font-bold text-slate-400 mb-1">ZIEL 1</label>
                        <input type="text" class="w-full font-bold text-lg border-b mb-4 outline-none save-content" placeholder="Gro√ües Ziel hier...">
                        <label class="block text-xs font-bold text-slate-400 mb-1">WARUM?</label>
                        <textarea class="w-full text-sm border p-2 rounded mb-4 save-content" rows="2"></textarea>
                        <div class="space-y-2">
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 1"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 2"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 3"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 4"></div>
                        </div>
                    </div>
                    <!-- Goal 2 -->
                    <div class="bg-white p-4 rounded shadow-sm">
                        <label class="block text-xs font-bold text-slate-400 mb-1">ZIEL 2</label>
                        <input type="text" class="w-full font-bold text-lg border-b mb-4 outline-none save-content" placeholder="Gro√ües Ziel hier...">
                        <label class="block text-xs font-bold text-slate-400 mb-1">WARUM?</label>
                        <textarea class="w-full text-sm border p-2 rounded mb-4 save-content" rows="2"></textarea>
                        <div class="space-y-2">
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 1"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 2"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 3"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 4"></div>
                        </div>
                    </div>
                    <!-- Goal 3 -->
                    <div class="bg-white p-4 rounded shadow-sm">
                        <label class="block text-xs font-bold text-slate-400 mb-1">ZIEL 3</label>
                        <input type="text" class="w-full font-bold text-lg border-b mb-4 outline-none save-content" placeholder="Gro√ües Ziel hier...">
                        <label class="block text-xs font-bold text-slate-400 mb-1">WARUM?</label>
                        <textarea class="w-full text-sm border p-2 rounded mb-4 save-content" rows="2"></textarea>
                        <div class="space-y-2">
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 1"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 2"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 3"></div>
                            <div class="flex items-center gap-2"><input type="checkbox" class="save-state"><input type="text" class="text-sm w-full border-none outline-none save-content" placeholder="Schritt 4"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="h-12"></div> <!-- Spacer -->
    </main>

    <script>
        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            generateSchedule();
            loadData();
            setupAutoSave();
        });

        // --- Generate Time Slots ---
        function generateSchedule() {
            const container = document.getElementById('schedule-container');
            const startHour = 6;
            const endHour = 21; // 9 PM

            for (let i = startHour; i <= endHour; i++) {
                const hourFormatted = i + ":00";
                const div = document.createElement('div');
                div.className = "flex gap-2 items-center group";
                div.innerHTML = `
                    <span class="text-xs font-bold text-slate-400 w-10 text-right pt-2">${hourFormatted}</span>
                    <div class="flex-1 border-t border-slate-200 mt-2 relative">
                        <input type="text" class="absolute -top-3 left-0 w-full bg-transparent border-none text-sm px-2 focus:bg-white focus:shadow-sm focus:z-10 rounded transition-colors save-content" placeholder="">
                    </div>
                `;
                container.appendChild(div);
            }
        }

        // --- Tab Switching Logic ---
        function switchTab(tabId) {
            // Hide all sections
            document.querySelectorAll('.view-section').forEach(el => el.classList.add('hidden'));
            // Show selected
            document.getElementById('view-' + tabId).classList.remove('hidden');
            
            // Update Title
            const titles = {
                'daily': 'Tagesplaner',
                'weekly': 'Wochen√ºbersicht',
                'dopamine': 'Dopamin Men√º',
                'boring': 'Boring Tasks',
                'goals': 'Ziele'
            };
            document.getElementById('page-title').innerText = titles[tabId];

            // Update Nav State
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-slate-800', 'border-blue-500');
                btn.classList.add('border-transparent');
            });
            const activeBtn = document.getElementById('btn-' + tabId);
            activeBtn.classList.add('bg-slate-800', 'border-blue-500');
            activeBtn.classList.remove('border-transparent');
        }

        // --- Persistence Logic (LocalStorage) ---
        const STORAGE_KEY = 'jarvis_productivity_data_v1';

        function setupAutoSave() {
            const inputs = document.querySelectorAll('input, textarea');
            inputs.forEach((input, index) => {
                // Assign unique ID if missing
                if (!input.id) {
                    input.id = 'input-' + index; // Simple indexing
                }
                
                input.addEventListener('input', debounce(saveData, 500));
                input.addEventListener('change', saveData);
            });
        }

        function saveData() {
            const data = {};
            
            // Save Text Inputs
            document.querySelectorAll('.save-content').forEach((el, index) => {
                const id = el.id || 'content-' + index; 
                data[id] = el.value;
                // Ensure element has ID for restoration
                if (!el.id) el.id = id; 
            });

            // Save Checkboxes
            document.querySelectorAll('.save-state').forEach((el, index) => {
                const id = el.id || 'state-' + index;
                data[id] = el.checked;
                if (!el.id) el.id = id;
            });

            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        function loadData() {
            const raw = localStorage.getItem(STORAGE_KEY);
            if (!raw) return;

            const data = JSON.parse(raw);
            
            // We need to re-select elements because some (like schedule) were generated dynamically
            // Wait for DOM generation first (already handled by order in DOMContentLoaded)
            
            // Restore Text
            document.querySelectorAll('.save-content').forEach((el, index) => {
                const id = el.id || 'content-' + index;
                if (!el.id) el.id = id;
                
                if (data[id] !== undefined) {
                    el.value = data[id];
                }
            });

            // Restore Checkboxes
            document.querySelectorAll('.save-state').forEach((el, index) => {
                const id = el.id || 'state-' + index;
                if (!el.id) el.id = id;

                if (data[id] !== undefined) {
                    el.checked = data[id];
                }
            });
        }

        function clearAllData() {
            if(confirm("Bist du sicher, dass du alle Daten l√∂schen m√∂chtest, Sir?")) {
                localStorage.removeItem(STORAGE_KEY);
                location.reload();
            }
        }

        // Helper: Debounce
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

    </script>
</body>
</html>

